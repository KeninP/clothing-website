<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Desi Couture</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <nav class="main-nav">
      <div class="brand">Desi Couture</div>
      <ul>
        <li><a href="#home">Home</a></li>
        <li><a href="#catalog">Shop</a></li>
        <li><a href="#cart">Cart</a></li>
        <li><a href="#contact">Contact</a></li>
      </ul>
    </nav>
  </header>
  <div class="promo-banner">Festive Sale: Up to 50% Off on Select Styles!</div>
  <main>
    <section id="home">
      <div class="hero parallax">
        <div class="carousel" id="carousel">
          <img src="https://images.unsplash.com/photo-1512436991641-6745cdb1723f?auto=format&fit=crop&w=1200&q=80" alt="Banner 1" class="carousel-img active">
          <img src="https://images.unsplash.com/photo-1517841905240-472988babdf9?auto=format&fit=crop&w=1200&q=80" alt="Banner 2" class="carousel-img">
          <img src="https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?auto=format&fit=crop&w=1200&q=80" alt="Banner 3" class="carousel-img">
          <button class="carousel-btn left" onclick="prevSlide()">&#10094;</button>
          <button class="carousel-btn right" onclick="nextSlide()">&#10095;</button>
        </div>
        <div class="hero-content">
          <h1>FASHION FOR EVERYONE</h1>
          <p>Discover the elegance of Indian ethnic wear. Shop the latest in kurtas, sarees, lehengas, and more!</p>
          <a href="#catalog" class="hero-btn">Shop Now</a>
        </div>
      </div>
    </section>
    <section class="testimonials-section">
      <h2 class="section-title">What Our Customers Say</h2>
      <div class="testimonials-slider" id="testimonials-slider">
        <div class="testimonial active">
          <p>‚ÄúAbsolutely love the quality and style. My go-to for festive wear!‚Äù</p>
          <span>- Priya S.</span>
        </div>
        <div class="testimonial">
          <p>‚ÄúFast delivery and beautiful packaging. Highly recommend Desi Couture!‚Äù</p>
          <span>- Rahul M.</span>
        </div>
        <div class="testimonial">
          <p>‚ÄúThe saree I bought was stunning and the fit was perfect.‚Äù</p>
          <span>- Anjali K.</span>
        </div>
        <div class="testimonial">
          <p>‚ÄúThe kids collection is adorable and comfortable. My daughter loves it!‚Äù</p>
          <span>- Meera D.</span>
        </div>
        <div class="testimonial">
          <p>‚ÄúThe accessories are so unique and stylish. I get compliments every time!‚Äù</p>
          <span>- Kavita P.</span>
        </div>
    <section class="featured-section">
      <h2 class="section-title">Why Shop With Us?</h2>
      <div class="featured-counters">
        <div class="counter-card">
          <div class="counter-num" id="counter-products">0</div>
          <div class="counter-label">Products</div>
        </div>
        <div class="counter-card">
          <div class="counter-num" id="counter-customers">0</div>
          <div class="counter-label">Happy Customers</div>
        </div>
        <div class="counter-card">
          <div class="counter-num" id="counter-awards">0</div>
          <div class="counter-label">Awards</div>
        </div>
      </div>
    </section>
  <script>
    // Animated counters
    function animateCounter(id, end, duration) {
      let start = 0;
      const step = Math.ceil(end / (duration / 20));
      const el = document.getElementById(id);
      function update() {
        start += step;
        if (start > end) start = end;
        el.textContent = start;
        if (start < end) setTimeout(update, 20);
      }
      update();
    }
    window.addEventListener('DOMContentLoaded', () => {
      animateCounter('counter-products', 50, 1200);
      animateCounter('counter-customers', 1200, 1400);
      animateCounter('counter-awards', 8, 1000);
    });
  </script>
      </div>
      <div class="testimonial-controls">
        <button onclick="prevTestimonial()">&#10094;</button>
        <button onclick="nextTestimonial()">&#10095;</button>
      </div>
    </section>
  <script>
    // Testimonials slider logic
    let currentTestimonial = 0;
    const testimonials = document.querySelectorAll('.testimonial');
    function showTestimonial(idx) {
      testimonials.forEach((t, i) => t.classList.toggle('active', i === idx));
      currentTestimonial = idx;
    }
    function nextTestimonial() {
      showTestimonial((currentTestimonial + 1) % testimonials.length);
    }
    function prevTestimonial() {
      showTestimonial((currentTestimonial - 1 + testimonials.length) % testimonials.length);
    }
    setInterval(() => nextTestimonial(), 6000);
  </script>
  <script>
    // Carousel logic
    let currentSlide = 0;
    const slides = document.querySelectorAll('.carousel-img');
    function showSlide(idx) {
      slides.forEach((img, i) => {
        img.classList.toggle('active', i === idx);
      });
      currentSlide = idx;
    }
    function nextSlide() {
      showSlide((currentSlide + 1) % slides.length);
    }
    function prevSlide() {
      showSlide((currentSlide - 1 + slides.length) % slides.length);
    }
    setInterval(() => nextSlide(), 4000);
    // Parallax effect
    window.addEventListener('scroll', function() {
      const hero = document.querySelector('.parallax');
      if (hero) {
        let offset = window.scrollY;
        hero.style.backgroundPositionY = offset * 0.4 + 'px';
      }
    });
  </script>
    <section id="catalog">
      <h2 class="section-title">New Arrivals</h2>
      <div class="filter-bar">
        <select id="category-filter">
          <option value="all">All Categories</option>
          <option value="Kurta Pajama">Kurta Pajama</option>
          <option value="Saree">Saree</option>
          <option value="Lehenga Choli">Lehenga Choli</option>
          <option value="Accessories">Accessories</option>
          <option value="Kids">Kids</option>
          <option value="Footwear">Footwear</option>
          <option value="Western Wear">Western Wear</option>
          <option value="Bags">Bags</option>
          <option value="Watches">Watches</option>
        </select>
        <select id="price-filter">
          <option value="all">All Prices</option>
          <option value="0-1500">Under ‚Çπ1500</option>
          <option value="1500-3000">‚Çπ1500 - ‚Çπ3000</option>
          <option value="3000-10000">Above ‚Çπ3000</option>
        </select>
      </div>
      <div class="products" id="products"></div>
    </section>
    <section id="cart">
      <h2>Shopping Cart</h2>
      <div id="cart-items"></div>
      <div id="cart-total"></div>
      <button id="checkout-btn" style="display:none;">Checkout</button>
      <div id="order-message"></div>
    </section>
    <section id="contact">
      <h2 class="section-title">Contact Us</h2>
      <div class="contact-card">
        <div class="contact-info">
          <div class="contact-icon"><span>üìû</span></div>
          <div>
            <strong>Phone:</strong> <a href="tel:+911234567890">+91 12345 67890</a><br>
            <strong>Email:</strong> <a href="mailto:info@desicouture.com">info@desicouture.com</a>
          </div>
        </div>
        <form id="contact-form">
          <div class="input-group">
            <label for="name">Name</label>
            <input type="text" id="name" name="name" required>
          </div>
          <div class="input-group">
            <label for="email">Email</label>
            <input type="email" id="email" name="email" required>
          </div>
          <div class="input-group">
            <label for="message">Message</label>
            <textarea id="message" name="message" required></textarea>
          </div>
          <button type="submit" class="contact-btn">Send Message</button>
          <div id="contact-status"></div>
        </form>
      </div>
    </section>
  </main>
  <footer>
    <p>&copy; 2025 Desi Couture. All rights reserved. Made with ‚ù§Ô∏è in India.</p>
  </footer>
  <script>
    // --- Contact Form Logic ---
    const contactForm = document.getElementById('contact-form');
    const contactStatus = document.getElementById('contact-status');
    if (contactForm) {
      contactForm.onsubmit = function(e) {
        e.preventDefault();
        const name = document.getElementById('name').value;
        const email = document.getElementById('email').value;
        const message = document.getElementById('message').value;
        fetch('http://localhost:4000/contact', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ name, email, message, date: new Date().toISOString() })
        })
        .then(res => res.json())
        .then(data => {
          contactStatus.innerHTML = '<span style="color:green;">Thank you for contacting us!</span>';
          contactForm.reset();
          setTimeout(() => { contactStatus.innerHTML = ''; }, 3000);
        })
        .catch(() => {
          contactStatus.innerHTML = '<span style="color:red;">Submission failed. Try again.</span>';
        });
      }
    }
    // --- Product and Cart Logic ---
    const productsDiv = document.getElementById('products');
    const cartItemsDiv = document.getElementById('cart-items');
    const cartTotalDiv = document.getElementById('cart-total');
    const checkoutBtn = document.getElementById('checkout-btn');
    const orderMsgDiv = document.getElementById('order-message');
    let products = [];
    let cart = [];

    // Fetch products from backend
    fetch('http://localhost:4000/products')
      .then(res => res.json())
      .then(data => {
        products = data;
        renderProducts();
      });

    function renderProducts() {
      productsDiv.innerHTML = '';
      let filtered = products;
      const cat = document.getElementById('category-filter')?.value || 'all';
      const price = document.getElementById('price-filter')?.value || 'all';
  if (cat !== 'all') filtered = filtered.filter(p => (p.category || p.name) === cat);
      if (price !== 'all') {
        if (price === '0-1500') filtered = filtered.filter(p => p.price < 1500);
        if (price === '1500-3000') filtered = filtered.filter(p => p.price >= 1500 && p.price <= 3000);
        if (price === '3000-10000') filtered = filtered.filter(p => p.price > 3000);
      }
      filtered.forEach((product, idx) => {
        const div = document.createElement('div');
        div.className = 'product fade-in';
        div.style.animationDelay = (idx * 0.08) + 's';
        div.innerHTML = `
          <img src="${product.image}" alt="${product.name}">
          <h3>${product.name}</h3>
          <p>‚Çπ${product.price}</p>
          <p style='font-size:0.9em;color:#555;'>${product.description}</p>
          <button onclick="addToCart(${product.id})">Add to Cart</button>
        `;
        productsDiv.appendChild(div);
      });
    }
  // Filter event listeners
  document.getElementById('category-filter')?.addEventListener('change', renderProducts);
  document.getElementById('price-filter')?.addEventListener('change', renderProducts);

    window.addToCart = function(id) {
      const prod = products.find(p => p.id === id);
      const item = cart.find(i => i.id === id);
      if (item) {
        item.qty++;
      } else {
        cart.push({ ...prod, qty: 1 });
      }
      renderCart();
    }

    function renderCart() {
      if (cart.length === 0) {
        cartItemsDiv.innerHTML = '<p>Your cart is currently empty.</p>';
        cartTotalDiv.innerHTML = '';
        checkoutBtn.style.display = 'none';
        return;
      }
      cartItemsDiv.innerHTML = cart.map(item => `
        <div style='display:flex;align-items:center;gap:1rem;margin-bottom:0.5rem;'>
          <img src="${item.image}" alt="${item.name}" style="width:50px;height:60px;border-radius:4px;">
          <div style='flex:1;'>
            <strong>${item.name}</strong><br>
            ‚Çπ${item.price} x ${item.qty}
          </div>
          <button onclick="removeFromCart(${item.id})">Remove</button>
        </div>
      `).join('');
      const total = cart.reduce((sum, item) => sum + item.price * item.qty, 0);
      cartTotalDiv.innerHTML = `<strong>Total: ‚Çπ${total}</strong>`;
      checkoutBtn.style.display = 'inline-block';
    }

    window.removeFromCart = function(id) {
      cart = cart.filter(item => item.id !== id);
      renderCart();
    }

    checkoutBtn.onclick = function() {
      if (cart.length === 0) return;
      fetch('http://localhost:4000/orders', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ items: cart, date: new Date().toISOString() })
      })
      .then(res => res.json())
      .then(data => {
        orderMsgDiv.innerHTML = '<span style="color:green;">Order placed successfully!</span>';
        cart = [];
        renderCart();
        setTimeout(() => { orderMsgDiv.innerHTML = ''; }, 3000);
      })
      .catch(() => {
        orderMsgDiv.innerHTML = '<span style="color:red;">Order failed. Try again.</span>';
      });
    }
  </script>
</body>
</html>
